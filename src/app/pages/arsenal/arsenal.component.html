<div class="mat-typography container" style="margin-top: 2rem;">
  <h1 class="text-center">Arsenal</h1>
  <mat-divider class="my-4"></mat-divider>

  <div class="filters" style="display: flex; gap: 2rem; flex-wrap: wrap; margin-bottom: 2rem;">

    <!-- Type d’équipement -->
    <div style="flex: 1 1 300px;">
      <h3>Types d’équipement</h3>
      <mat-chip-listbox [multiple]="true">
        <mat-chip-option *ngFor="let type of filters.equipmentType.options"
                         [selected]="isSelected(filters.equipmentType, type)"
                         (click)="toggleChipSelection(filters.equipmentType, type)">
          {{ type }}
        </mat-chip-option>
      </mat-chip-listbox>
      <button mat-stroked-button color="primary" (click)="toggleAll(filters.equipmentType)" class="mt-1">
        {{ isAllSelected(filters.equipmentType) ? 'Aucun type': 'Tous types' }}
      </button>
    </div>

    <!-- Carburants -->
    <div style="flex: 1 1 300px;">
      <h3>Carburants</h3>
      <mat-chip-listbox [multiple]="true">
        <mat-chip-option *ngFor="let fuel of filters.supply.options"
                         [selected]="isSelected(filters.supply, fuel)"
                         (click)="toggleChipSelection(filters.supply, fuel)">
          {{ fuel }}
        </mat-chip-option>
      </mat-chip-listbox>
      <button mat-stroked-button color="primary" (click)="toggleAll(filters.supply)" class="mt-1">
        {{ isAllSelected(filters.supply) ? 'Aucun carburant' : 'Tous carburants' }}
      </button>
    </div>

    <!-- Poids -->
    <div style="flex: 1 1 300px;">
      <h3>Poids</h3>
      <mat-chip-listbox [multiple]="true">
        <mat-chip-option *ngFor="let weight of filters.weight.options"
                         [selected]="isSelected(filters.weight, weight)"
                         (click)="toggleChipSelection(filters.weight, weight)">
          {{ weight }}
        </mat-chip-option>
      </mat-chip-listbox>
      <button mat-stroked-button color="primary" (click)="toggleAll(filters.weight)" class="mt-1">
        {{ isAllSelected(filters.weight) ? 'Aucun poids' : 'Tous poids' }}
      </button>
    </div>

  </div>


  <!-- Tableau d’équipements -->
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" style="width: 100%;">

    <!-- ID -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>ID</th>
      <td mat-cell *matCellDef="let equipment">{{ equipment.id }}</td>
    </ng-container>

    <!-- Nom -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Nom</th>
      <td mat-cell *matCellDef="let equipment">{{ equipment.name }}</td>
    </ng-container>

    <!-- Type -->
    <ng-container matColumnDef="equipmentType">
      <th mat-header-cell *matHeaderCellDef>Type</th>
      <td mat-cell *matCellDef="let equipment">{{ equipment.equipmentType }}</td>
    </ng-container>

    <!-- Carburant -->
    <ng-container matColumnDef="supply">
      <th mat-header-cell *matHeaderCellDef>Carburant</th>
      <td mat-cell *matCellDef="let equipment">{{ equipment.supply }}</td>
    </ng-container>

    <!-- Poids -->
    <ng-container matColumnDef="weight">
      <th mat-header-cell *matHeaderCellDef>Poids</th>
      <td mat-cell *matCellDef="let equipment">{{ equipment.weight }}</td>
    </ng-container>

    <!-- Header & Row Declarations -->
    <tr mat-header-row *matHeaderRowDef="['id', 'name', 'equipmentType', 'supply', 'weight']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['id', 'name', 'equipmentType', 'supply', 'weight'];"></tr>
  </table>
</div>
